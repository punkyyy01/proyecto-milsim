/* =========================================
   MANDO CENTRAL - TACTICAL UI THEME v3.2
   ========================================= */

/* 1. IMPORTAR FUENTES TÉCNICAS */
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Rajdhani:wght@500;600;700&family=Roboto:wght@300;400;500&display=swap');

:root {
    --bg-main: #0a0e11;
    --bg-panel: #121820;
    --border-tech: #1a2430;
    --action-green: #00d689;
    --action-blue: #00c4ff;
    --action-red: #ff4757;
    --action-yellow: #ffa502;
    --text-muted: #7cae9e;
    --tech-glow: 0 0 10px rgba(0, 214, 137, 0.3);
}

/* 2. ESTRUCTURA GENERAL */
body {
    background-color: var(--bg-main) !important;
    font-family: 'Roboto', sans-serif;
    color: #e8e8e8;
}

::-webkit-scrollbar { width: 10px; height: 10px; }
::-webkit-scrollbar-track { background: #1a2428; }
::-webkit-scrollbar-thumb { background: #3d4d52; border-radius: 2px; }
::-webkit-scrollbar-thumb:hover { background: var(--action-blue); }

h1, h2, h3, .site-header, .brand-text {
    font-family: 'Rajdhani', sans-serif !important;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* 3. PANELES */
.card, .info-box, .login-box-body, .modal-content {
    background: linear-gradient(180deg, #1a2835 0%, #121820 100%) !important;
    border: 2px solid var(--action-green) !important;
    box-shadow: 0 0 15px rgba(0, 214, 137, 0.15) !important;
}

/* Accent colors */
.accent-teal,
.accent-success {
    accent-color: var(--action-green) !important;
}

.table thead th.accent-teal,
.table thead th.accent-success {
    border-bottom-color: var(--action-green) !important;
}

/* Sidebar Dark Success (Resaltes verdes) */
.sidebar-dark-success .nav-sidebar .nav-item > .nav-link.active {
    background-color: #2d4652 !important;
    border-left-color: var(--action-green) !important;
}

.sidebar-dark-success .nav-sidebar .nav-item > .nav-link.active::before {
    background-color: var(--action-green) !important;
}

/* Colores de éxito (success) globales */
.btn-success {
    background-color: var(--action-green) !important;
    border-color: var(--action-green) !important;
}

.btn-success:hover {
    background-color: #6baeb0 !important;
    border-color: #6baeb0 !important;
    box-shadow: 0 0 15px var(--action-green) !important;
}

/* Links y elementos activos */
.active > a, 
.nav-link.active,
.list-group-item.active {
    background-color: #2d4652 !important;
    border-color: var(--action-green) !important;
    color: var(--action-green) !important;
}

/* 4. BOTONES */
.btn {
    border-radius: 2px !important;
    font-family: 'Rajdhani', sans-serif;
    font-weight: 700 !important; 
    text-transform: uppercase;
}

.btn-primary, .btn-success, .btn-info, .btn-teal {
    background-color: var(--action-green) !important;
    color: #000000 !important; 
    border: none !important;
    box-shadow: 0 0 10px rgba(0, 214, 137, 0.2) !important;
    font-weight: 700 !important;
    text-transform: uppercase !important;
}

.btn-primary:hover, .btn-teal:hover, .btn-success:hover {
    background-color: var(--action-green) !important;
    box-shadow: 0 0 10px rgba(0, 214, 137, 0.2) !important;
    transform: none !important;
}

/* 5. LINKS E INTERACCIONES (Sin subrayado global) */
/* No aplicar a enlaces que funcionan como botones (.btn) */
a:not(.btn), a:not(.btn):hover, a:not(.btn):focus, a:not(.btn):active, a:not(.btn):visited {
    text-decoration: none !important;
    color: var(--action-blue) !important;
    transition: all 0.2s ease;
    outline: none !important;
}

a:not(.btn):hover {
    color: var(--action-green) !important;
    text-shadow: 0 0 8px var(--action-green);
    cursor: crosshair;
}

/* 6. SIDEBAR */
.sidebar-dark-primary { background-color: #1a2428 !important; }
.sidebar-dark-teal { background-color: #1a2428 !important; }
.sidebar-dark-success { background-color: #1a2428 !important; }
.nav-sidebar .nav-item > .nav-link { font-family: 'JetBrains Mono', monospace !important; }
.nav-sidebar .nav-item > .nav-link.active {
    background-color: #2d4652 !important; 
    border-left: 3px solid var(--action-green) !important;
}

/* Iconos centrados en sidebar colapsado */
.sidebar-collapse .nav-sidebar .nav-item > .nav-link {
    text-align: center !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
}

.sidebar-collapse .nav-sidebar .nav-item > .nav-link > .nav-icon {
    margin-right: 0 !important;
    margin-left: -3px !important;
}

.sidebar-collapse .nav-sidebar .nav-item > .nav-link > p {
    display: none !important;
}

/* 7. INPUTS GENERALES */
input, select, textarea {
    background-color: #1b2a3a !important;
    border: 2px solid var(--action-green) !important;
    color: #e8e8e8 !important;
    box-shadow: inset 0 0 10px rgba(0, 214, 137, 0.1) !important;
}

/* Override Bootstrap/Jazzmin form controls (excluir botones) */
.form-control:not(.btn),
.form-control:not(.btn):focus,
.custom-select:not(.btn),
.custom-select:not(.btn):focus,
select.form-control:not(.btn),
input.form-control:not([type="submit"]):not([type="button"]),
textarea.form-control,
.select2-container--default .select2-selection--single,
.select2-container--default .select2-selection--multiple,
.input-group .form-control:not(.btn),
.inline-related input:not([type="submit"]):not([type="button"]),
.inline-related select,
.inline-related textarea,
.tabular .form-row input:not([type="submit"]):not([type="button"]),
.tabular .form-row select,
.tabular .form-row textarea {
    background-color: #1b2a3a !important;
    color: #ffffff !important;
    border-color: var(--action-green) !important;
}

/* Texto blanco en selects y opciones */
select option,
.custom-select option,
select.form-control option {
    background-color: #1b2a3a !important;
    color: #ffffff !important;
}

/* Select2 rendered text */
.select2-container--default .select2-selection--single .select2-selection__rendered {
    color: #ffffff !important;
}

/* Select2 dropdown (si se usa) */
.select2-container--default .select2-results__option {
    background-color: #1b2a3a !important;
    color: #e8e8e8 !important;
}

.select2-container--default .select2-results__option--highlighted {
    background-color: #2d4050 !important;
}

.select2-dropdown {
    background-color: #1b2a3a !important;
    border-color: var(--action-green) !important;
}

/* 8. NAVBAR */
.main-header.navbar { 
    background-color: #0a0e11 !important;
    border-bottom: 2px solid var(--action-green) !important;
    box-shadow: 0 0 15px rgba(0, 214, 137, 0.15) !important;
}

/* =========================================
   9. SELECTORES (Cursos y Múltiples)
    Ajustes para uso con doble clic
   ========================================= */

/* Contenedor principal: Flex para alinear cajas */
.selector {
    display: flex !important;
    justify-content: space-between !important;
    align-items: flex-start !important;
    width: 100% !important;
}

/* Ocultar botones del medio (flechas) */
.selector .selector-chooser {
    display: none !important;
    width: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* Cajas de selección (Disponibles y Elegidos) */
.selector .selector-available, 
.selector .selector-chosen {
    width: 49% !important; /* Ocupan casi todo el ancho */
    margin: 0 !important;
    float: none !important;
    background: transparent !important;
    border: none !important;
}

/* Encabezados de los cuadros */
.selector-available h2, 
.selector-chosen h2 {
    background: #1c2a30 !important;
    color: var(--action-green) !important;
    border: 1px solid #2d3d45 !important;
    font-family: 'Rajdhani', sans-serif !important;
    text-transform: uppercase !important;
    padding: 8px !important;
    font-size: 14px !important;
    text-align: center !important;
    margin-bottom: 0 !important;
}

/* Área del buscador */
.selector .selector-filter {
    background: #1c2a30 !important;
    border: 1px solid #2d3d45 !important;
    border-top: none !important;
    border-bottom: none !important;
    padding: 5px !important;
}

/* Input del buscador */
.selector .selector-filter input {
    background: #122028 !important;
    color: #dddddd !important;
    border: 1px solid var(--action-green) !important;
    margin: 0 !important;
    width: 95% !important;
}

/* EL SELECT REAL (Lista de nombres) */
.selector select {
    background-color: #122028 !important;
    color: #dddddd !important;
    border: 1px solid #2d3d45 !important;
    height: 250px !important; /* Más alto para ver más cursos */
    width: 100% !important;
    font-family: 'JetBrains Mono', monospace !important;
    font-size: 13px !important;
}

/* Opciones dentro del select */
.selector select option {
    padding: 4px 8px;
    border-bottom: 1px solid #1c2a30;
}

.selector select option:hover {
    background-color: #2d3d45 !important;
    cursor: pointer;
}

/* Botones pequeños de acción (Seleccionar todos / Limpiar) */
.selector-chooseall, 
.selector-clearall {
    display: block !important;
    width: 100% !important;
    text-align: center !important;
    color: var(--action-green) !important;
    font-weight: bold !important;
    background: #1c2a30 !important;
    border: 1px solid #2d3d45 !important;
    border-top: none !important;
    padding: 5px !important;
    margin: 0 !important;
    cursor: pointer !important;
}

.selector-chooseall:hover, 
.selector-clearall:hover {
    background: var(--action-green) !important;
    color: #000000 !important;
}

/* =========================================
   13. BOTONES (Legibilidad + sin cambio al click)
   ========================================= */

/* Texto negro en TODOS los botones (incluye estados hover/focus/active) */
.btn,
.btn:hover,
.btn:focus,
.btn:active,
.btn.active,
button,
button:hover,
button:focus,
button:active,
input[type="button"],
input[type="button"]:hover,
input[type="button"]:focus,
input[type="button"]:active,
input[type="submit"],
input[type="submit"]:hover,
input[type="submit"]:focus,
input[type="submit"]:active,
input[type="reset"],
input[type="reset"]:hover,
input[type="reset"]:focus,
input[type="reset"]:active,
.button,
.button:hover,
.button:focus,
.button:active,
a.button,
a.button:hover,
a.button:focus,
a.button:active,
.selector-chooseall,
.selector-chooseall:hover,
.selector-chooseall:focus,
.selector-chooseall:active,
.selector-clearall,
.selector-clearall:hover,
.selector-clearall:focus,
.selector-clearall:active {
    color: #000000 !important;
}

/* Evitar "efecto presionado"/cambio al hacer click */
.btn:active,
.btn.active,
button:active,
input[type="button"]:active,
input[type="submit"]:active,
input[type="reset"]:active,
.button:active,
a.button:active {
    transform: none !important;
    filter: none !important;
}

/* Mantener estables los botones principales (sin cambio por hover/focus/active) */
.btn-primary:hover,
.btn-primary:focus,
.btn-primary:active,
.btn-primary.active,
.btn-success:hover,
.btn-success:focus,
.btn-success:active,
.btn-success.active,
.btn-info:hover,
.btn-info:focus,
.btn-info:active,
.btn-info.active,
.btn-teal:hover,
.btn-teal:focus,
.btn-teal:active,
.btn-teal.active {
    background-color: var(--action-green) !important;
    border-color: var(--action-green) !important;
    box-shadow: 0 0 10px rgba(0, 214, 137, 0.2) !important;
    transform: none !important;
}

/* =========================================
   10. TABLAS DEL ADMIN
   ========================================= */
.table thead th {
    border-bottom: 2px solid var(--action-green) !important;
    color: #fff;
    font-family: 'Rajdhani', sans-serif;
}

.table-striped tbody tr:nth-of-type(odd) {
    background-color: rgba(255,255,255,0.03) !important;
}

/* =========================================
   11. COLORES SUCCESS (Bootstrap Override)
   ========================================= */
/* Elementos success en todo Bootstrap/AdminLTE */
.badge-success {
    background-color: var(--action-green) !important;
}

.alert-success {
    background-color: rgba(90, 155, 125, 0.2) !important;
    border-color: var(--action-green) !important;
    color: var(--action-green) !important;
}

.list-group-item-success {
    background-color: rgba(90, 155, 125, 0.1) !important;
    border-color: var(--action-green) !important;
    color: var(--action-green) !important;
}

.bg-success {
    background-color: var(--action-green) !important;
}

.text-success {
    color: var(--action-green) !important;
}

/* =========================================
   12. BUSCADOR CENTRADO Y REDONDO
   ========================================= */
/* Django admin toolbar */
#toolbar {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 12px 16px !important;
    min-height: 64px !important;
}

#toolbar form,
#changelist-search {
    width: 100% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
}

#toolbar .input-group,
#changelist-search .input-group {
    /* IMPORTANT: don't stretch full width, keep the whole control group centered */
    width: auto !important;
    max-width: 100% !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 10px !important;
    margin: 0 auto !important;
    flex-wrap: wrap !important;
}

#toolbar input[type="search"],
#toolbar input[type="text"],
#toolbar select,
#toolbar .btn,
#changelist-search input[type="search"],
#changelist-search input[type="text"],
#changelist-search select,
#changelist-search .btn {
    border-radius: 12px !important;
    height: 42px !important;
}

#toolbar input,
#toolbar select,
#changelist-search input,
#changelist-search select {
    flex: 0 1 auto !important;
}

/* Size controls so the group can actually center */
#toolbar select,
#changelist-search select {
    min-width: 160px !important;
    width: 180px !important;
}

#toolbar input[type="search"],
#toolbar input[type="text"],
#changelist-search input[type="search"],
#changelist-search input[type="text"] {
    min-width: 240px !important;
    width: 360px !important;
}

#toolbar .btn,
#changelist-search .btn {
    flex: 0 0 auto !important;
    padding: 0 18px !important;
}

/* Jazzmin/AdminLTE card header toolbars */
.card-header .card-tools,
.card-header form {
    width: 100% !important;
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    padding: 8px 12px !important;
}

.card-header .input-group {
    width: auto !important;
    max-width: 100% !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 10px !important;
    flex-wrap: wrap !important;
}

.card-header .input-group > input,
.card-header .input-group > select,
.card-header .input-group > .btn {
    border-radius: 12px !important;
    height: 42px !important;
}

.card-header .input-group > select {
    min-width: 160px !important;
    width: 180px !important;
    flex: 0 1 auto !important;
}

.card-header .input-group > input[type="search"],
.card-header .input-group > input[type="text"] {
    min-width: 240px !important;
    width: 360px !important;
    flex: 0 1 auto !important;
}

/* =========================================
   14. BOTONES DASHBOARD ADMIN (Rebuild)
   ========================================= */
body.dashboard .card .card-body .btn-group > a.btn,
body.dashboard .card .card-body .btn-group > a.btn:link,
body.dashboard .card .card-body .btn-group > a.btn:visited,
body.dashboard .card .card-body .btn-group > a.btn:hover,
body.dashboard .card .card-body .btn-group > a.btn:focus,
body.dashboard .card .card-body .btn-group > a.btn:active {
    background-color: var(--action-green) !important;
    border-color: var(--action-green) !important;
    color: #000000 !important;
    -webkit-text-fill-color: #000000 !important;
    text-shadow: none !important;
    box-shadow: 0 0 10px rgba(0, 214, 137, 0.2) !important;
    opacity: 1 !important;
}

body.dashboard .card .card-body .btn-group > a.btn:focus,
body.dashboard .card .card-body .btn-group > a.btn:active {
    outline: none !important;
    transform: none !important;
    filter: none !important;
}

/* =========================================
   15. INLINE DELETE BUTTONS
   ========================================= */

/* Botón ELIMINAR */
.btn-inline-delete {
    display: inline-flex !important;
    align-items: center;
    gap: 6px;
    padding: 6px 14px !important;
    font-family: 'Rajdhani', sans-serif !important;
    font-weight: 700 !important;
    font-size: 12px !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px;
    background: rgba(255, 71, 87, 0.15) !important;
    color: var(--action-red) !important;
    border: 1px solid var(--action-red) !important;
    border-radius: 3px !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    box-shadow: none !important;
    white-space: nowrap;
}

.btn-inline-delete:hover {
    background: var(--action-red) !important;
    color: #ffffff !important;
    box-shadow: 0 0 12px rgba(255, 71, 87, 0.4) !important;
    transform: none !important;
}

.btn-inline-delete i {
    font-size: 11px;
}

/* Botón DESHACER */
.btn-inline-undo {
    display: inline-flex !important;
    align-items: center;
    gap: 6px;
    padding: 6px 14px !important;
    font-family: 'Rajdhani', sans-serif !important;
    font-weight: 700 !important;
    font-size: 12px !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px;
    background: rgba(0, 214, 137, 0.15) !important;
    color: var(--action-green) !important;
    border: 1px solid var(--action-green) !important;
    border-radius: 3px !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    box-shadow: none !important;
    white-space: nowrap;
}

.btn-inline-undo:hover {
    background: var(--action-green) !important;
    color: #000000 !important;
    box-shadow: 0 0 12px rgba(0, 214, 137, 0.4) !important;
    transform: none !important;
}

.btn-inline-undo i {
    font-size: 11px;
}

/* Fila marcada para eliminar */
tr.inline-marked-delete,
.inline-related.inline-marked-delete {
    opacity: 0.35 !important;
    background: repeating-linear-gradient(
        -45deg,
        transparent,
        transparent 8px,
        rgba(255, 71, 87, 0.05) 8px,
        rgba(255, 71, 87, 0.05) 16px
    ) !important;
    position: relative;
}

tr.inline-marked-delete td,
.inline-related.inline-marked-delete input,
.inline-related.inline-marked-delete select {
    pointer-events: none;
}

/* Permitir click solo en el botón deshacer dentro de la fila marcada */
tr.inline-marked-delete td:last-child,
tr.inline-marked-delete .btn-inline-undo,
.inline-related.inline-marked-delete .btn-inline-undo {
    pointer-events: auto !important;
    opacity: 1 !important;
}

/* Cabecera de la columna ACCIONES */
.inline-delete-header {
    font-family: 'Rajdhani', sans-serif !important;
    font-size: 12px !important;
    color: #7cae9e !important;
    letter-spacing: 1px;
}

/* Forzar estilo en inline-deletelink (filas dinámicas) */
a.inline-deletelink,
a.inline-deletelink:link,
a.inline-deletelink:visited,
a.inline-deletelink:hover,
a.inline-deletelink:active {
    display: inline-flex !important;
    align-items: center !important;
    gap: 6px !important;
    padding: 6px 14px !important;
    font-family: 'Rajdhani', sans-serif !important;
    font-weight: 700 !important;
    font-size: 12px !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    background: rgba(255, 71, 87, 0.15) !important;
    color: var(--action-red) !important;
    border: 1px solid var(--action-red) !important;
    border-radius: 3px !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    box-shadow: none !important;
    white-space: nowrap !important;
    text-decoration: none !important;
    float: none !important;
}

a.inline-deletelink:hover {
    background: var(--action-red) !important;
    color: #ffffff !important;
    box-shadow: 0 0 12px rgba(255, 71, 87, 0.4) !important;
}

/* =========================================
   16. BOTÓN "SALIR SIN GUARDAR"
   ========================================= */
.btn-exit-nosave,
.btn-exit-nosave:link,
.btn-exit-nosave:visited,
.btn-exit-nosave:hover,
.btn-exit-nosave:focus,
.btn-exit-nosave:active {
    background: rgba(255, 165, 2, 0.12) !important;
    color: var(--action-yellow) !important;
    border: 1px solid var(--action-yellow) !important;
    font-family: 'Rajdhani', sans-serif !important;
    font-weight: 700 !important;
    font-size: 13px !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    border-radius: 3px !important;
    transition: all 0.2s ease !important;
    margin-top: 4px !important;
}

.btn-exit-nosave:hover {
    background: var(--action-yellow) !important;
    color: #000000 !important;
    box-shadow: 0 0 12px rgba(255, 165, 2, 0.4) !important;
}

/* =========================================
   17. BOTÓN DELETE EN SUBMIT LINE (Unificado)
   ========================================= */
.btn-danger-custom,
.btn-danger-custom:link,
.btn-danger-custom:visited,
.btn-danger-custom:hover,
.btn-danger-custom:focus,
.btn-danger-custom:active {
    background: rgba(255, 71, 87, 0.15) !important;
    color: var(--action-red) !important;
    border: 1px solid var(--action-red) !important;
    font-family: 'Rajdhani', sans-serif !important;
    font-weight: 700 !important;
    font-size: 13px !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    border-radius: 3px !important;
    transition: all 0.2s ease !important;
}

.btn-danger-custom:hover {
    background: var(--action-red) !important;
    color: #ffffff !important;
    box-shadow: 0 0 12px rgba(255, 71, 87, 0.4) !important;
}

/* =========================================
   18. SUBMIT ROW - BOTONES LEGIBLES
   ========================================= */

/* Guardar (btn-success) - verde fuerte con texto negro */
.submit-row input[type="submit"].btn-success,
.submit-row input[type="submit"].btn-success:hover,
.submit-row input[type="submit"].btn-success:focus,
.submit-row input[type="submit"].btn-success:active,
div > .form-group > input.btn-success.form-control,
div > .form-group > input.btn-success.form-control:hover {
    background-color: var(--action-green) !important;
    color: #000000 !important;
    border: 1px solid var(--action-green) !important;
    font-weight: 700 !important;
    box-shadow: 0 0 10px rgba(0, 214, 137, 0.3) !important;
}

/* Guardar y añadir / Guardar y continuar (btn-info) */
.submit-row input[type="submit"].btn-info,
.submit-row input[type="submit"].btn-info:hover,
.submit-row input[type="submit"].btn-info:focus,
.submit-row input[type="submit"].btn-info:active,
div > .form-group > input.btn-info.form-control,
div > .form-group > input.btn-info.form-control:hover {
    background: #1b2a3a !important;
    color: #ffffff !important;
    border: 1px solid var(--action-green) !important;
    font-weight: 700 !important;
    box-shadow: 0 0 8px rgba(0, 214, 137, 0.15) !important;
}

/* Botón Histórico (Jazzmin default / btn-default / btn-secondary) */
.submit-row a.btn-default,
.submit-row a.btn-secondary,
.submit-row a.btn-default:hover,
.submit-row a.btn-secondary:hover,
.submit-row a.historylink,
div > .form-group > a.btn-default.form-control,
div > .form-group > a.btn-secondary.form-control,
div > .form-group > a.btn.form-control:not(.btn-success):not(.btn-info):not(.btn-danger-custom):not(.btn-exit-nosave) {
    background: #1b2a3a !important;
    color: #ffffff !important;
    border: 1px solid #3d5060 !important;
    font-weight: 700 !important;
}

div > .form-group > a.btn.form-control:not(.btn-success):not(.btn-info):not(.btn-danger-custom):not(.btn-exit-nosave):hover {
    border-color: var(--action-green) !important;
    box-shadow: 0 0 8px rgba(0, 214, 137, 0.2) !important;
}